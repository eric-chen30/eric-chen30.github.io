{
    "version": "https://jsonfeed.org/version/1",
    "title": "CsStar • All posts by \"pandas\" tag",
    "description": "Work Hard To Be A Better Man",
    "home_page_url": "http://example.com",
    "items": [
        {
            "id": "http://example.com/2020/09/13/%E8%AE%A4%E8%AF%86Pandas-DataFrame/",
            "url": "http://example.com/2020/09/13/%E8%AE%A4%E8%AF%86Pandas-DataFrame/",
            "title": "认识Pandas-DataFrame",
            "date_published": "2020-09-13T08:25:21.000Z",
            "content_html": "<h1 id=\"pandas-dataframe基础知识总结\"><a class=\"markdownIt-Anchor\" href=\"#pandas-dataframe基础知识总结\">#</a> Pandas-DataFrame 基础知识总结</h1>\n<h2 id=\"dataframe的创建\"><a class=\"markdownIt-Anchor\" href=\"#dataframe的创建\">#</a> DataFrame 的创建</h2>\n<h3 id=\"dataframe和series简介\"><a class=\"markdownIt-Anchor\" href=\"#dataframe和series简介\">#</a> DataFrame 和 Series 简介</h3>\n<p>DataFrame 是一种表格型的数据结构。DataFrame 既有行索引，也有列索引，它可以看作是由 Series 组成的字典，并且这些 Series 共用一个索引。创建方式有很多种，主要是根据 dict 进行创建，或者是读取 csv 或者 txt 文件。</p>\n<blockquote>\n<p><strong>Series</strong>：简单来说，就是一个竖着的 List，一般创建需要传入一个 List。</p>\n</blockquote>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> pandas <span class=\"keyword\">as</span> pd</span><br><span class=\"line\"><span class=\"keyword\">import</span> numpy <span class=\"keyword\">as</span> np</span><br><span class=\"line\">s = pd.Series([<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">3</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span>,np.nan])</span><br><span class=\"line\">print(s)      <span class=\"comment\"># 竖着的列表，其中np.nan为NaN，还包含默认的索引列</span></span><br></pre></td></tr></table></figure>\n<blockquote>\n<ul>\n<li>numpy 中不存在的值都会被赋值为 NaN</li>\n<li>默认索引列为数字（从 0 开始），也可以自定义索引列，在 Series 函数中添加 index 关键字，同时给一个自定义索引列表</li>\n</ul>\n</blockquote>\n<h3 id=\"根据字典创建\"><a class=\"markdownIt-Anchor\" href=\"#根据字典创建\">#</a> 根据字典创建</h3>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">data = &#123;</span><br><span class=\"line\">    <span class=\"string\">&#x27;name&#x27;</span>:[<span class=\"string\">&#x27;csstar&#x27;</span>,<span class=\"string\">&#x27;jackson&#x27;</span>,<span class=\"string\">&#x27;tom&#x27;</span>,<span class=\"string\">&#x27;jerry&#x27;</span>,<span class=\"string\">&#x27;yummy&#x27;</span>],</span><br><span class=\"line\">    <span class=\"string\">&#x27;year&#x27;</span>:[<span class=\"number\">2000</span>,<span class=\"number\">2001</span>,<span class=\"number\">2008</span>,<span class=\"number\">2010</span>,<span class=\"number\">2020</span>],</span><br><span class=\"line\">    <span class=\"string\">&#x27;sex&#x27;</span>:[<span class=\"string\">&#x27;m&#x27;</span>,<span class=\"string\">&#x27;m&#x27;</span>,<span class=\"string\">&#x27;m&#x27;</span>,<span class=\"string\">&#x27;w&#x27;</span>,<span class=\"string\">&#x27;w&#x27;</span>]</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"comment\"># 得到了DataFrame对象，包含默认索引列</span></span><br><span class=\"line\">frame = pd.DataFrame(data)  </span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\"># index是行索引--&gt;对应行  columns是列索引--&gt;对应列</span></span><br><span class=\"line\">frame2 = pd.DataFrame(data,index=[<span class=\"string\">&#x27;one&#x27;</span>,<span class=\"string\">&#x27;two&#x27;</span>,<span class=\"string\">&#x27;three&#x27;</span>,<span class=\"string\">&#x27;four&#x27;</span>,<span class=\"string\">&#x27;five&#x27;</span>],columns=[<span class=\"string\">&#x27;name&#x27;</span>,<span class=\"string\">&#x27;sex&#x27;</span>,<span class=\"string\">&#x27;year&#x27;</span>])</span><br></pre></td></tr></table></figure>\n<blockquote>\n<ul>\n<li>如果 columns 中出现了没有定义的列，那么该列的数据都为 NaN</li>\n<li>可以用 index，columns，values 来访问 DataFrame 的行索引，列索引以及数据值，数据返回的是一个<strong>二维数组</strong>。</li>\n</ul>\n</blockquote>\n<h3 id=\"读取文件的方式创建\"><a class=\"markdownIt-Anchor\" href=\"#读取文件的方式创建\">#</a> 读取文件的方式创建</h3>\n<p>读取文件生成 DataFrame 最常用的是<strong> read_csv,read_table</strong> 方法</p>\n<p><img data-src=\"%E8%AE%A4%E8%AF%86Pandas-DataFrame.assets/image-20200913170309272.png\" alt=\"image-20200913170309272\"></p>\n<p>还有一些其他的 DataFrame 创建方式，比如说可以通过读取 mysql 或者 mongoDB，读取 json 文件等方式来生成 DataFrame 对象。</p>\n<h2 id=\"dataframe轴的概念\"><a class=\"markdownIt-Anchor\" href=\"#dataframe轴的概念\">#</a> DataFrame 轴的概念</h2>\n<p>在 DataFrame 的处理中经常会遇到轴的概念，我们所说的 axis=0 即表示沿着每一列或者行标签 / 索引值向下执行的，axis = 1 即表示沿着每一行或者列标签方向执行对应的方法</p>\n<h2 id=\"dataframe的性质\"><a class=\"markdownIt-Anchor\" href=\"#dataframe的性质\">#</a> DataFrame 的性质</h2>\n<h3 id=\"索引-切片\"><a class=\"markdownIt-Anchor\" href=\"#索引-切片\">#</a> 索引、切片</h3>\n<p>根据列的名字获取一列，返回的是一个 Series</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">frame[<span class=\"string\">&#x27;列索引的名字&#x27;</span>]</span><br></pre></td></tr></table></figure>\n<p>获取多列或者多行</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">data = pd.DataFrame(np.arange(<span class=\"number\">16</span>).reshape((<span class=\"number\">4</span>,<span class=\"number\">4</span>)),index = [<span class=\"string\">&#x27;Ohio&#x27;</span>,<span class=\"string\">&#x27;Colorado&#x27;</span>,<span class=\"string\">&#x27;Utah&#x27;</span>,<span class=\"string\">&#x27;New York&#x27;</span>],columns=[<span class=\"string\">&#x27;one&#x27;</span>,<span class=\"string\">&#x27;two&#x27;</span>,<span class=\"string\">&#x27;three&#x27;</span>,<span class=\"string\">&#x27;four&#x27;</span>])</span><br><span class=\"line\">data[[<span class=\"string\">&#x27;two&#x27;</span>,<span class=\"string\">&#x27;three&#x27;</span>]]</span><br><span class=\"line\"><span class=\"comment\">#输出</span></span><br><span class=\"line\">    two three</span><br><span class=\"line\">Ohio    <span class=\"number\">1</span>   <span class=\"number\">2</span></span><br><span class=\"line\">Colorado    <span class=\"number\">5</span>   <span class=\"number\">6</span></span><br><span class=\"line\">Utah    <span class=\"number\">9</span>   <span class=\"number\">10</span></span><br><span class=\"line\">New York    <span class=\"number\">13</span>  <span class=\"number\">14</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">#取行</span></span><br><span class=\"line\">data[:<span class=\"number\">2</span>]</span><br><span class=\"line\"><span class=\"comment\">#输出</span></span><br><span class=\"line\">    one two three   four</span><br><span class=\"line\">Ohio    <span class=\"number\">0</span>   <span class=\"number\">1</span>   <span class=\"number\">2</span>   <span class=\"number\">3</span></span><br><span class=\"line\">Colorado    <span class=\"number\">4</span>   <span class=\"number\">5</span>   <span class=\"number\">6</span>   <span class=\"number\">7</span></span><br></pre></td></tr></table></figure>\n<p>根据逻辑条件来选取</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">data[data[<span class=\"string\">&#x27;three&#x27;</span>]&gt;<span class=\"number\">5</span>]</span><br><span class=\"line\"><span class=\"comment\">#输出</span></span><br><span class=\"line\">    one two three   four</span><br><span class=\"line\">Colorado    <span class=\"number\">4</span>   <span class=\"number\">5</span>   <span class=\"number\">6</span>   <span class=\"number\">7</span></span><br><span class=\"line\">Utah    <span class=\"number\">8</span>   <span class=\"number\">9</span>   <span class=\"number\">10</span>  <span class=\"number\">11</span></span><br><span class=\"line\">New York    <span class=\"number\">12</span>  <span class=\"number\">13</span>  <span class=\"number\">14</span>  <span class=\"number\">15</span></span><br></pre></td></tr></table></figure>\n<p>专门用于索引的方法，如果用标签 —&gt;loc 方法，如果用下标 —&gt;iloc 方法</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">#data.ix[&#x27;Colorado&#x27;,[&#x27;two&#x27;,&#x27;three&#x27;]]</span></span><br><span class=\"line\">data.loc[<span class=\"string\">&#x27;Colorado&#x27;</span>,[<span class=\"string\">&#x27;two&#x27;</span>,<span class=\"string\">&#x27;three&#x27;</span>]]</span><br><span class=\"line\"><span class=\"comment\">#输出</span></span><br><span class=\"line\">two      <span class=\"number\">5</span></span><br><span class=\"line\">three    <span class=\"number\">6</span></span><br><span class=\"line\">Name: Colorado, dtype: int64</span><br><span class=\"line\"></span><br><span class=\"line\">data.iloc[<span class=\"number\">0</span>:<span class=\"number\">3</span>,<span class=\"number\">2</span>]</span><br><span class=\"line\"><span class=\"comment\">#输出</span></span><br><span class=\"line\">Ohio         <span class=\"number\">2</span></span><br><span class=\"line\">Colorado     <span class=\"number\">6</span></span><br><span class=\"line\">Utah        <span class=\"number\">10</span></span><br><span class=\"line\">Name: three, dtype: int64</span><br></pre></td></tr></table></figure>\n<h3 id=\"修改数据\"><a class=\"markdownIt-Anchor\" href=\"#修改数据\">#</a> 修改数据</h3>\n<p>使用标量修改某一列</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">frame[<span class=\"string\">&#x27;debt&#x27;</span>]=<span class=\"number\">16.5</span></span><br><span class=\"line\">frame <span class=\"comment\"># debt列全部数据为16.5</span></span><br></pre></td></tr></table></figure>\n<p>使用一个列表来修改，不过要保证列表的长度与 DataFrame 长度相同：</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">frame.debt = np.arange(<span class=\"number\">5</span>)</span><br></pre></td></tr></table></figure>\n<p>使用一个 Series，此时会根据索引来进行精确匹配</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">val=pd.Series([<span class=\"number\">-1.2</span>,<span class=\"number\">-1.5</span>,<span class=\"number\">-1.7</span>],index[<span class=\"string\">&#x27;two&#x27;</span>,<span class=\"string\">&#x27;four&#x27;</span>,<span class=\"string\">&#x27;five&#x27;</span>])</span><br><span class=\"line\">frame[<span class=\"string\">&#x27;debt&#x27;</span>] = val  <span class=\"comment\">#定义一个三个数据的Series来代替指定index行的值，从而实现精确定位并修改</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"重新索引\"><a class=\"markdownIt-Anchor\" href=\"#重新索引\">#</a> 重新索引</h3>\n<p>使用 reinex 方法对 DataFrame 进行重新索引，可以重新索引行或 i 列，或者两者都索引，只穿一个参数的情况下，会重新索引行。</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">frame = pd.DataFrame(np.arange(<span class=\"number\">9</span>).reshape((<span class=\"number\">3</span>,<span class=\"number\">3</span>)),index=[<span class=\"number\">1</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span>],columns=[<span class=\"string\">&#x27;Ohio&#x27;</span>,<span class=\"string\">&#x27;Texas&#x27;</span>,<span class=\"string\">&#x27;California&#x27;</span>])</span><br><span class=\"line\">frame2 = frame.reindex([<span class=\"number\">1</span>,<span class=\"number\">2</span>,<span class=\"number\">4</span>,<span class=\"number\">5</span>])</span><br><span class=\"line\">frame2</span><br><span class=\"line\"><span class=\"comment\">#输出</span></span><br><span class=\"line\">    Ohio    Texas   California</span><br><span class=\"line\"><span class=\"number\">1</span>   <span class=\"number\">0.0</span> <span class=\"number\">1.0</span> <span class=\"number\">2.0</span></span><br><span class=\"line\"><span class=\"number\">2</span>   NaN NaN NaN</span><br><span class=\"line\"><span class=\"number\">4</span>   <span class=\"number\">3.0</span> <span class=\"number\">4.0</span> <span class=\"number\">5.0</span></span><br><span class=\"line\"><span class=\"number\">5</span>   <span class=\"number\">6.0</span> <span class=\"number\">7.0</span> <span class=\"number\">8.0</span></span><br><span class=\"line\"></span><br><span class=\"line\">states = [<span class=\"string\">&#x27;Texas&#x27;</span>,<span class=\"string\">&#x27;Utah&#x27;</span>,<span class=\"string\">&#x27;California&#x27;</span>]</span><br><span class=\"line\">frame.reindex(columns=states)</span><br><span class=\"line\"><span class=\"comment\">#输出</span></span><br><span class=\"line\">    Texas   Utah    California</span><br><span class=\"line\"><span class=\"number\">1</span>   <span class=\"number\">1</span>   NaN <span class=\"number\">2</span></span><br><span class=\"line\"><span class=\"number\">4</span>   <span class=\"number\">4</span>   NaN <span class=\"number\">5</span></span><br><span class=\"line\"><span class=\"number\">5</span>   <span class=\"number\">7</span>   NaN <span class=\"number\">8</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"丢弃指定轴上的值\"><a class=\"markdownIt-Anchor\" href=\"#丢弃指定轴上的值\">#</a> 丢弃指定轴上的值</h3>\n<p>使用 drop 方法丢弃指定轴上的值，不会对 DataFrame 造成影响</p>\n<figure class=\"highlight python\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">frame = pd.DataFrame(np.arange(<span class=\"number\">9</span>).reshape((<span class=\"number\">3</span>,<span class=\"number\">3</span>)),index = [<span class=\"string\">&#x27;a&#x27;</span>,<span class=\"string\">&#x27;c&#x27;</span>,<span class=\"string\">&#x27;d&#x27;</span>],columns = [<span class=\"string\">&#x27;Ohio&#x27;</span>,<span class=\"string\">&#x27;Texas&#x27;</span>,<span class=\"string\">&#x27;California&#x27;</span>])</span><br><span class=\"line\">frame.drop(<span class=\"string\">&#x27;a&#x27;</span>) </span><br><span class=\"line\"><span class=\"comment\">#输出</span></span><br><span class=\"line\">Ohio    Texas   California</span><br><span class=\"line\">a   <span class=\"number\">0</span>   <span class=\"number\">1</span>   <span class=\"number\">2</span></span><br><span class=\"line\">c   <span class=\"number\">3</span>   <span class=\"number\">4</span>   <span class=\"number\">5</span></span><br><span class=\"line\">d   <span class=\"number\">6</span>   <span class=\"number\">7</span>   <span class=\"number\">8</span></span><br><span class=\"line\"></span><br><span class=\"line\">frame.drop([<span class=\"string\">&#x27;Ohio&#x27;</span>],axis=<span class=\"number\">1</span>)</span><br><span class=\"line\"><span class=\"comment\">#输出</span></span><br><span class=\"line\">    Texas   California</span><br><span class=\"line\">a   <span class=\"number\">1</span>   <span class=\"number\">2</span></span><br><span class=\"line\">c   <span class=\"number\">4</span>   <span class=\"number\">5</span></span><br><span class=\"line\">d   <span class=\"number\">7</span>   <span class=\"number\">8</span></span><br></pre></td></tr></table></figure>\n<h3 id=\"算术运算\"><a class=\"markdownIt-Anchor\" href=\"#算术运算\">#</a> 算术运算</h3>\n<h3 id=\"函数应用与映射\"><a class=\"markdownIt-Anchor\" href=\"#函数应用与映射\">#</a> 函数应用与映射</h3>\n<h3 id=\"排序与排名\"><a class=\"markdownIt-Anchor\" href=\"#排序与排名\">#</a> 排序与排名</h3>\n<h3 id=\"汇总和计算描述统计\"><a class=\"markdownIt-Anchor\" href=\"#汇总和计算描述统计\">#</a> 汇总和计算描述统计</h3>\n<h3 id=\"处理缺失数据\"><a class=\"markdownIt-Anchor\" href=\"#处理缺失数据\">#</a> 处理缺失数据</h3>\n",
            "tags": [
                "Pandas"
            ]
        }
    ]
}